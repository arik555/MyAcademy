{% extends 'base.html' %}
{% block title %}
    {{ block.super }}{{ title }}
{% endblock %}

{% block style %}
    <style>
        .card:hover {
            box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
        }
    </style>
{% endblock %}

{% block carousel %}
    <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100" src="https://topgolf.com/assets/uploads/images/2018/07/27/office_worker.jpg"
           alt="Second slide" height="650">
        <div class="carousel-caption d-none d-md-block">
            <h3>Learn Anytime! Anywhere!</h3>
            <p>Explore the premium courses at affordable cost.</p>
        </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-100" src="https://e-courses4you.com/wp-content/uploads/2017/07/ailearning2-1024x699.png"
           alt="Third slide" height="650">
        <div class="carousel-caption d-none d-md-block">
            <h3>Learn the concepts in-depth.</h3>
            <p>Understand and enjoy the courses in an organized manner.</p>
        </div>
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
{% endblock %}
{% block plain %}
    <div class="jumbotron jumbotron-fluid" style="height: auto;">
      <div class="container">
        <h1 class="display-4">The best selling handpicked courses</h1>
        <p class="lead mt-5">Choose from the best filtered and popular online video courses with new additions
            published every month. Our mission is to improve lives through learning.
            We enable anyone anywhere to create and share educational courses (instructors) and to enroll in these educational courses to learn (students). We consider our marketplace model the best way to offer valuable educational content to our users.
            We need rules to keep our platform and services safe for you, us and our student and instructor community.</p>

      </div>
    </div>
{% endblock %}

{% block content_fluid %}
    <div class="row">
        <div class="col-sm-12 mx-auto">
            <h1>Top popular courses:</h1>
        </div>
    </div>
    <div class="row mb-5">
        <div class="col-12 col-sm-12">
        <div class="owl-carousel owl-theme">
            {% for each in query %}
              <div class="item" >
                  <div class="card" style="margin: 5px; padding: 3px;">
                      <img src="{{ each.avatar|safe }}" alt="Profile Pic 1" class="img-thumbnail"/>
                      <h5 class="card-title text-center">{{ each.name }}</h5>
                      <p class="card-text">{{ each.desc|truncatewords:15 }}</p>
                      <h6>&#8377;{{ each.price }}</h6>
                  <p style="float: left;">
                    {% for rate in 'xxxxx' %}
                        {% if forloop.counter <= each.rating  %}
                            <span class="fa fa-star checked" style="color: orange;"></span>
                        {% else %}
                            <span class="fa fa-star"></span>
                        {% endif %}
                    {% endfor %}
                    <span id="stars">{{ each.rating }}</span>
                  </p>
                      <div align="center" style="margin-bottom: 5px;">
                        <a href="{% url 'browse' course=each.id %}" class="btn btn-primary" style="text-decoration:
                        none;
                        display:
                        inline;
">View</a>
                      </div>
                  </div>
              </div>
            {% endfor %}
        </div>
        </div>
    </div>
{% endblock %}

{% block footer %}
{{ block.super }}
{% endblock %}

{% block add_scripts %}
    <script>
        $(document).ready(function(){
          $('.owl-carousel').owlCarousel({
            loop:false,
            margin:10,
            nav:true,
            autoWidth:true,
            responsiveClass:true
          });

        });
    </script>
{% endblock %}

